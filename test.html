<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Demo</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.js'></script>
    <script src="http://minifiedjs.com/download/minified.js" type="text/javascript" charset="utf-8"></script>
    <script src="fullcanvas.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.4.0/mapbox.css' rel='stylesheet' />
    <link href='default.css' rel='stylesheet' />
  </head>
  <body>
    <form id="myForm" onsubmit="return submitForm();" accept-charset="utf-8">
      <label for="City">City</label>
      <select name="city">
        <option value="amsterdam">Amsterdam</option>
        <option value="ankara">Ankara</option>
        <option value="antalya">Antalya</option>
        <option value="atlanta">Atlanta</option>
        <option value="barcelona">Barcelona</option>
        <option value="belohorizonte">Belo Horizonte</option>
        <option value="berlin">Berlin</option>
        <option value="chicago">Chicago</option>
        <option value="fortaleza">Fortaleza</option>
        <option value="helsinki">Helsinki</option>
        <option value="houston-k59">Houston</option>
        <option value="indianapolis">Indianapolis</option>
        <option value="istanbul-k59">Istanbul</option>
        <option value="izmir">Izmir</option>
        <option value="kualalumpur">Kuala Lumpur</option>
        <option value="london">London</option>
        <option value="losangeles">Los Angeles</option>
        <option value="mexicocity">Mexico City</option>
        <option value="moscow">Moscow</option>
        <option value="newyork">New York</option>
        <option value="paris" selected>Paris</option>
        <option value="portoalegre">Porto Alegre</option>
        <option value="prague">Prague</option>
        <option value="recife">Recife</option>
        <option value="riodejaneiro">Rio De Janeiro</option>
        <option value="rome">Rome</option>
        <option value="salvador-k59">Salvador</option>
        <option value="sandiego">San Diego</option>
        <option value="sanfrancisco">San Francisco</option>
        <option value="santiagodechile">Santiago De Chile</option>
        <option value="saopaulo">Sao Paulo</option>
        <option value="seattle">Seattle</option>
        <option value="seoul">Seoul</option>
        <option value="singapore">Singapore</option>
        <option value="stlouis">St. Louis</option>
        <option value="stockholm">Stockholm</option>
        <option value="stpetersburg">St. Petersburg</option>
        <option value="tokyo">Tokyo</option>
        <option value="washington">Washington</option>
        <option value="yokohama">Yokohama</option>
      </select>
      <label for="Feature">Feature</label>
      <select name="feature">
        <option value="cat_likely" selected>Category: Most likely</option> 
        <option value="cat_distinct">Category: Distinctive</option>
        <option value="time_likely">Time of Day: Most likely</option> 
        <option value="time_distinct">Time of Day: Distinctive</option>
        <option value="day_likely">Day of Week: Most likely</option> 
        <option value="day_distinct">Day of Week: Distinctive</option>
      </select>
      <!--
      <label for="Value">Value</label>
      <select name="value">
        <option value="food" selected>Food</option> 
        <option value="theater" >Theater</option>
      </select>
      -->
      <button type="submit">See</button>
    </form>
    <!-- <img id="result_showed" src="images/newyork_frequent_food.jpg" /> -->
    <div id='main-left'>
        <div id='map'></div>
    </div>
    <div id='main-right'>
        <ul id='legend'></ul>
    </div>
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-label/v0.2.1/leaflet.label.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-label/v0.2.1/leaflet.label.css' rel='stylesheet' />
    <script src="city_bounds.js" type="text/javascript" charset="utf-8"></script>
    <script src="draw_map.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript" charset="utf-8">
    var MINI = require('minified');
    var _=MINI._, $=MINI.$, $$=MINI.$$, EE=MINI.EE, HTML=MINI.HTML;
    function submitForm() {
      var query = $('#myForm').values();
      var parts = query.feature.split('_');
      show_heatmap(query.city, parts[0], parts[1]);
      return false;
    }
$.ready(function() {
  show_heatmap('paris', 'cat', 'likely');
});
  </script>
  </body>
</html>
